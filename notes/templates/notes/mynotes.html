{% extends "notes/base.html" %}
{% load static %}
{% block heroSection %}{% endblock %}
{% block dashboard %}{% endblock %}
{% block mynotes %}
<div class="h-auto bg-zinc-900 text-slate-400 px-6 py-4 flex gap-4 md:flex">
{% include "notes/sidebar.html" %}
<section class="bg-zinc-900 text-gray-300">
    <!-- Section Header -->
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-3xl font-bold text-indigo-400">My Notes</h2>
        <button onclick="openModal('add')" class="bg-indigo-500 text-white py-2 px-4 font-bold rounded hover:bg-indigo-400 transition">
            Add Note
        </button>
    </div>

    <!-- Notes Card Container -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 cursor-pointer">
        <!-- Note Card 1 -->
        <div class="bg-gray-800 rounded-lg shadow-lg p-4 hover:shadow-xl transition hover:bg-gray-900">
            <h3 class="text-xl font-semibold text-indigo-400">Note Title 1</h3>
            <p class="text-sm text-gray-400">Subject: Operating System</p>
            <p class="mt-2 text-gray-300">Operating system is an intermediary between...</p>
            <p class="mt-2 text-gray-400">Date: 2024-10-24</p>
            <div class="flex justify-between items-center mt-4">
                <a href="#" class="text-indigo-400 hover:text-indigo-300 transition">
                    <i class='bx bx-download text-2xl md:text-lg'></i>
                </a>
                <div class="flex space-x-2">
                    <a href="#" onclick="openModal('edit', 'Note Title 1')" class="text-indigo-400 hover:text-indigo-300 transition">
                        <i class='bx bx-edit text-2xl md:text-lg'></i>
                    </a>
                    <a href="#" class="text-red-500 hover:text-red-400 transition">
                        <i class='bx bx-trash text-2xl md:text-lg'></i>
                    </a>
                </div>
            </div>
        </div>

       
        <!-- Add more note cards as needed -->
    </div>

    <!-- Pagination or Additional Features -->
    <div class="mt-6 text-center">
        <button class="bg-indigo-500 text-white py-2 px-4 rounded hover:bg-indigo-400 transition">Load More</button>
    </div>
</section>
</div>

<!-- Responsive Modal for Add/Edit Note -->
<div id="noteModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 hidden p-4 z-50" onclick="closeModal(event)">
    <div class="bg-white rounded-lg shadow-lg w-full max-w-md mx-auto p-6" onclick="event.stopPropagation()">
        <!-- Modal Title -->
        <h3 id="modalTitle" class="text-xl font-bold mb-4">Add Note</h3>

        <form>
            <!-- Title Input -->
            <div class="mb-4">
                <label for="noteTitle" class="block text-gray-700">Title</label>
                <input type="text" id="noteTitle" class="w-full px-3 py-2 border rounded-lg" placeholder="Enter title">
            </div>

            <!-- Subject Input -->
            <div class="mb-4">
                <label for="noteSubject" class="block text-gray-700">Subject</label>
                <input type="text" id="noteSubject" class="w-full px-3 py-2 border rounded-lg" placeholder="Enter subject">
            </div>

            <!-- Content Input -->
            <div class="mb-4">
                <label for="noteContent" class="block text-gray-700">Content</label>
                <textarea id="noteContent" class="w-full px-3 py-2 border rounded-lg" rows="4" placeholder="Enter note content"></textarea>
            </div>

            <!-- File Upload (PDF Only) -->
            <div class="mb-4">
                <label for="file" class="block text-gray-700">File (pdf only)</label>
                <input type="file" id="file" class="w-full px-3 py-2 border rounded-lg" accept="application/pdf">
            </div>

            <!-- Action Buttons -->
            <div class="flex justify-end space-x-4">
                <button type="button" onclick="closeModal()" class="bg-gray-300 text-gray-700 px-4 py-2 rounded hover:bg-gray-400">Cancel</button>
                <button type="submit" id="saveButton" class="bg-indigo-500 text-white px-4 py-2 rounded hover:bg-indigo-400">Save</button>
            </div>
        </form>
    </div>
</div>

<script>
     // Open Modal for Add or Edit based on argument
     function openModal(action) {
        const modalTitle = document.getElementById("modalTitle");
        const saveButton = document.getElementById("saveButton");

        // Set modal title and button text based on action
        if (action === 'edit') {
            modalTitle.textContent = "Edit Note";
            saveButton.textContent = "Update";
        } else {
            modalTitle.textContent = "Add Note";
            saveButton.textContent = "Save";
        }

        // Show the modal
        document.getElementById("noteModal").classList.remove("hidden");
    }

    // Close Modal
    function closeModal(event) {
        if (!event || event.target === document.getElementById("noteModal")) {
            document.getElementById("noteModal").classList.add("hidden");
        }
    }

</script>
{% endblock %}