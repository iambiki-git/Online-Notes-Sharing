{% load static %}

<div class="max-w-4xl mx-auto p-8 bg-zinc-900 rounded-lg shadow-xl hover:shadow-2xl">
    <div class="flex flex-col md:flex-row items-center md:items-start">
        <img src="{% static 'notes/images/userImage.jpg' %}" alt="Profile Picture" class="w-24 h-24 rounded-full border-4 border-blue-500 shadow-md">
        <div class="md:ml-8 mt-4 md:mt-0">
            <h2 class="text-3xl font-bold text-slate-300">Bikram</h2>
            <p class="text-slate-400 text-sm">Email: <span class="text-blue-500">gbikram4554@gmail.com</span></p>
        </div>
    </div>
    <div class="mt-6">
        <h3 class="text-xl font-semibold text-slate-300">About Me</h3>
        <p class="mt-2 text-slate-400">A brief description or bio goes here. Include your interests, skills, or any other information you'd like to share with others. <i class='bx bxs-edit-alt cursor-pointer' ></i></p>
    </div>
    <div class="mt-8 flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4">
        <button id="editProfile" class="flex items-center justify-center px-5 py-2 text-sm font-bold text-slate-400 hover:text-black border border-gray-300 rounded-lg hover:bg-gray-100 transition duration-200">
            Edit Profile
        </button>
    </div>
</div>

<!-- Modal -->
<div id="editProfileModal" class="fixed inset-0 z-50 flex items-center justify-center hidden bg-black bg-opacity-50">
    <div class="bg-zinc-900 rounded-lg p-6 max-w-lg w-full">
        <h2 id="modalTitle" class="text-2xl font-bold text-slate-300">Edit Profile</h2>
        <form id="editProfileForm">
            <div id="editFields">
                <div class="mt-4">
                    <label for="firstName" class="block text-sm text-slate-400">Full Name</label>
                    <input type="text" id="firstName" name="firstName" value="{{ user.first_name }}" class="w-full mt-1 p-2 rounded-lg bg-zinc-800 text-slate-300 border border-gray-600 focus:border-blue-500 focus:outline-none" required>
                </div>
                <div class="mt-4">
                    <label for="email" class="block text-sm text-slate-400">Email</label>
                    <input type="email" id="email" name="email" value="{{ user.email }}" class="w-full mt-1 p-2 rounded-lg bg-zinc-800 text-slate-300 border border-gray-600 focus:border-blue-500 focus:outline-none" required>
                </div>
                <div class="mt-4">
                    <label for="password" class="block text-sm text-slate-400">Password</label>
                    <input type="password" id="password" name="password" class="w-full mt-1 p-2 rounded-lg bg-zinc-800 text-slate-300 border border-gray-600 focus:border-blue-500 focus:outline-none" required>
                </div>
            </div>
            <div class="mt-6 flex justify-end">
                <button type="button" onclick="closeModal()" class="mr-4 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700">Cancel</button>
                <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">Save</button>
            </div>
        </form>
    </div>
</div>

<script>
    const editProfile = document.getElementById('editProfile');
    const editProfileModal = document.getElementById('editProfileModal')

    editProfile.addEventListener('click', (event)=>{
        event.stopPropagation();
        editProfileModal.classList.remove('hidden')
    })

    function closeModal() {
        document.getElementById('editProfileModal').classList.add('hidden');
    }
</script>
